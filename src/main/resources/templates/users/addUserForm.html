<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원 가입</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 페이지 배경 및 폰트 설정 */
        body {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* 카드 스타일 */
        .register-card {
            border-radius: 15px;
            padding: 40px;
            background-color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        /* 버튼 스타일 */
        .btn-custom {
            width: 100%;
            padding: 12px;
            font-size: 1.1rem;
            border-radius: 10px;
            transition: background-color 0.3s ease;
        }

        .btn-register {
            background-color: #28a745;
            color: white;
        }

        .btn-register:hover {
            background-color: #218838;
        }

        .btn-cancel {
            background-color: #dc3545;
            color: white;
        }

        .btn-cancel:hover {
            background-color: #c82333;
        }

        /* 폼 레이블 스타일 */
        .form-label {
            font-weight: bold;
        }

        /* 입력 필드 스타일 */
        .form-control {
            border-radius: 8px;
        }

        /* 오류 메시지 스타일 */
        .field-error {
            color: #dc3545;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* 오류가 있는 입력 필드 스타일 */
        .form-control.is-invalid {
            border-color: #dc3545;
        }
    </style>
</head>
<body>

<div class="container d-flex align-items-center justify-content-center" style="min-height: 100vh;">
    <div class="register-card col-md-6 col-lg-5">
        <h2 class="text-center mb-4">회원 가입</h2>

        <form th:action="@{/users/add}" th:object="${user}" method="post">
            <!-- 글로벌 오류 메시지 표시 -->
            <div th:if="${#fields.hasGlobalErrors()}">
                <p class="field-error text-center" th:each="err : ${#fields.globalErrors()}"
                   th:text="${err}">전체 오류 메시지</p>
            </div>

            <!-- 로그인 ID -->
            <div class="mb-3">
                <label for="loginId" class="form-label">로그인 ID</label>
                <input type="text" th:field="*{loginId}"
                       class="form-control"
                       th:errorclass="is-invalid"
                       id="loginId" placeholder="로그인 ID를 입력하세요" required>
                <!-- 필드 오류 메시지 -->
                <div th:if="${#fields.hasErrors('loginId')}" class="field-error"
                     th:errors="*{loginId}">로그인 ID 오류
                </div>
            </div>
            <!-- 비밀번호 -->
            <div class="mb-3">
                <label for="password" class="form-label">비밀번호</label>
                <input type="password" th:field="*{password}"
                       class="form-control"
                       th:errorclass="is-invalid"
                       id="password" placeholder="비밀번호를 입력하세요" required>
                <!-- 필드 오류 메시지 -->
                <div th:if="${#fields.hasErrors('password')}" class="field-error"
                     th:errors="*{password}">비밀번호 오류
                </div>
            </div>
            <!-- 이름 -->
            <div class="mb-4">
                <label for="name" class="form-label">이름</label>
                <input type="text" th:field="*{name}"
                       class="form-control"
                       th:errorclass="is-invalid"
                       id="name" placeholder="이름을 입력하세요" required>
                <!-- 필드 오류 메시지 -->
                <div th:if="${#fields.hasErrors('name')}" class="field-error"
                     th:errors="*{name}">이름 오류
                </div>
            </div>
            <!-- 회원가입 버튼 -->
            <button type="submit" class="btn btn-custom btn-register mb-2">회원 가입</button>
            <!-- 취소 버튼 -->
            <a th:href="@{/}" class="btn btn-custom btn-cancel">취소</a>
        </form>
    </div>
</div>

<!-- Bootstrap JS (필요한 경우) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
